(function(){"use strict";var e={6599:function(e,t,s){var a=s(5130),n=s(6768);const o={id:"app"};function r(e,t,s,a,r,i){const c=(0,n.g2)("ChatComponent");return(0,n.uX)(),(0,n.CE)("div",o,[(0,n.bF)(c)])}var i=s(4232);const c={class:"chat-container"},u={class:"chat-messages"},l={class:"chat-input"};function p(e,t,s,o,r,p){const d=(0,n.g2)("van-field"),g=(0,n.g2)("van-button");return(0,n.uX)(),(0,n.CE)("div",c,[(0,n.Lk)("div",u,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.messages,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:(0,i.C4)(["message","user"===e.role?"message-sent":"message-received"])},[((0,n.uX)(),(0,n.Wv)((0,n.$y)(p.getMessageComponent(e.type)),{message:e,class:"message-content"},null,8,["message"]))],2)))),128))]),(0,n.Lk)("div",l,[(0,n.bF)(d,{modelValue:r.newMessage,"onUpdate:modelValue":t[0]||(t[0]=e=>r.newMessage=e),placeholder:"请输入消息",onKeydown:(0,a.jR)(p.sendMessage,["enter"]),clearable:""},null,8,["modelValue","onKeydown"]),(0,n.bF)(g,{type:"primary",onClick:p.sendMessage},{default:(0,n.k6)((()=>t[1]||(t[1]=[(0,n.eW)("发送")]))),_:1},8,["onClick"])])])}s(4114);const d={class:"message-content"},g={class:"message-text"};function h(e,t,s,a,o,r){return(0,n.uX)(),(0,n.CE)("div",d,[(0,n.Lk)("div",g,(0,i.v_)(s.message.content),1)])}var m={props:{message:{type:Object,required:!0}}},f=s(1241);const v=(0,f.A)(m,[["render",h],["__scopeId","data-v-8a408794"]]);var b=v;const C={class:"chart-message"};function y(e,t,s,a,o,r){const i=(0,n.g2)("BarChart");return(0,n.uX)(),(0,n.CE)("div",C,[(0,n.bF)(i,{data:e.chartData,options:e.chartOptions},null,8,["data","options"])])}var M=s(1010),w=s(6912);w.t1.register(w.hE,w.m_,w.s$,w.E8,w.PP,w.kc);var k=(0,n.pM)({name:"BarMessage",components:{BarChart:M.yP},props:{message:Object},setup(e){const t=e.message.content.data,s=e.message.content.options||{};return{chartData:t,chartOptions:s}}});const x=(0,f.A)(k,[["render",y],["__scopeId","data-v-6988c4ca"]]);var O=x;const _={class:"chart-message"};function D(e,t,s,a,o,r){const i=(0,n.g2)("PieChart");return(0,n.uX)(),(0,n.CE)("div",_,[(0,n.bF)(i,{data:e.chartData,options:e.chartOptions},null,8,["data","options"])])}w.t1.register(w.hE,w.m_,w.s$,w.Bs);var E=(0,n.pM)({name:"PieMessage",components:{PieChart:M.Fq},props:{message:Object},setup(e){const t=e.message.content.data,s=e.message.content.options||{};return{chartData:t,chartOptions:s}}});const F=(0,f.A)(E,[["render",D],["__scopeId","data-v-586553ac"]]);var P=F;const T={class:"chart-message"};function A(e,t,s,a,o,r){const i=(0,n.g2)("LineChart");return(0,n.uX)(),(0,n.CE)("div",T,[(0,n.bF)(i,{data:e.chartData,options:e.chartOptions},null,8,["data","options"])])}w.t1.register(w.hE,w.m_,w.s$,w.No,w.FN,w.PP,w.kc);var B=(0,n.pM)({name:"LineMessage",components:{LineChart:M.N1},props:{message:Object},setup(e){const t=e.message.content.data,s=e.message.content.options||{};return{chartData:t,chartOptions:s}}});const j=(0,f.A)(B,[["render",A],["__scopeId","data-v-335a492c"]]);var I=j,L={components:{TextMessage:b,BarMessage:O,PieMessage:P,LineMessage:I},data(){return{messages:[{id:1,role:"assistant",content:"欢迎来到对话界面！",type:"text"},{id:2,role:"user",content:"你好！",type:"text"}],newMessage:"",autoReplyIndex:0,messageTypes:["text","bar","pie","line"]}},methods:{sendMessage(){this.newMessage.trim()&&(this.messages.push({id:Date.now(),role:"user",content:this.newMessage,type:"text"}),this.newMessage="",this.autoReply(),this.scrollToBottom())},autoReply(){setTimeout((()=>{const e=this.messageTypes[this.autoReplyIndex];let t={};switch(e){case"text":t={id:Date.now(),role:"assistant",content:"这是自动回复的文字消息",type:"text"};break;case"bar":t={id:Date.now(),role:"assistant",content:this.getBarChartData(),type:"bar"};break;case"pie":t={id:Date.now(),role:"assistant",content:this.getPieChartData(),type:"pie"};break;case"line":t={id:Date.now(),role:"assistant",content:this.getLineChartData(),type:"line"};break}this.autoReplyIndex=(this.autoReplyIndex+1)%this.messageTypes.length,this.messages.push(t),this.scrollToBottom()}),1e3)},getBarChartData(){return{data:{labels:["一月","二月","三月","四月","五月","六月"],datasets:[{label:"销量",backgroundColor:"#409eff",data:[65,59,80,81,56,55]}]},options:{responsive:!0,maintainAspectRatio:!1}}},getPieChartData(){return{data:{labels:["苹果","香蕉","橘子"],datasets:[{label:"水果销量",backgroundColor:["#FF6384","#36A2EB","#FFCE56"],data:[300,50,100]}]},options:{responsive:!0,maintainAspectRatio:!1}}},getLineChartData(){return{data:{labels:["一季度","二季度","三季度","四季度"],datasets:[{label:"利润",backgroundColor:"#409eff",borderColor:"#409eff",data:[15e3,2e4,18e3,22e3],fill:!1}]},options:{responsive:!0,maintainAspectRatio:!1}}},scrollToBottom(){this.$nextTick((()=>{const e=this.$el.querySelector(".chat-messages");e.scrollTop=e.scrollHeight}))},getMessageComponent(e){switch(e){case"text":return"TextMessage";case"bar":return"BarMessage";case"pie":return"PieMessage";case"line":return"LineMessage";default:return"TextMessage"}}}};const R=(0,f.A)(L,[["render",p],["__scopeId","data-v-6d5ce7c0"]]);var X=R,$={name:"App",components:{ChatComponent:X}};const q=(0,f.A)($,[["render",r]]);var K=q,N=s(9814);s(2241);const V=(0,a.Ef)(K);V.use(N.Ay$),V.mount("#app")}},t={};function s(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,a,n,o){if(!a){var r=1/0;for(l=0;l<e.length;l++){a=e[l][0],n=e[l][1],o=e[l][2];for(var i=!0,c=0;c<a.length;c++)(!1&o||r>=o)&&Object.keys(s.O).every((function(e){return s.O[e](a[c])}))?a.splice(c--,1):(i=!1,o<r&&(r=o));if(i){e.splice(l--,1);var u=n();void 0!==u&&(t=u)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[a,n,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,o,r=a[0],i=a[1],c=a[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(n in i)s.o(i,n)&&(s.m[n]=i[n]);if(c)var l=c(s)}for(t&&t(a);u<r.length;u++)o=r[u],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(l)},a=self["webpackChunkchat_app"]=self["webpackChunkchat_app"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],(function(){return s(6599)}));a=s.O(a)})();
//# sourceMappingURL=app.86f4aab2.js.map